<%
    var last;
%>

<article class="recent-posts">
    <h1 class="recent-title">Note</h1>
    <div class="recent-posts">
        <% page.posts.each(function(item){ %>
            <% var year = item.date.year(); %>
            <% if (last != year){ %>
                <% last = year; %>
                <div class="recent-post-year-title">
                    <h2 class="recent-post-year"><%=year%></h2>
                </div>
            <% } %>
            <div class="recent-post-items">
                <span class="recent-post-time"><%=date(item.date, 'MMM Do')%></span>
                <span class="recent-post-item">
                    <a href="/<%-item.path %>"><%=item.title%></a>
                </span>
            </div>
        <% }); %>
    </div>
</article>


<% if (page.prev || page.next){ %>
    <div class="pagination noborder">
        <% if (page.next){ %>
            <div class="nav-next nav-item">
                <a href="/page/<%=page.next%>">
                    <i class="fa fa-angle-left"></i>
                    <span>较旧的文章</span>
                </a>
            </div>
        <% } %>
        <% if (page.prev){ %>
            <div class="nav-prev nav-item">
                <% if (page.prev == 1) { %>
                    <a href="/">较新的文章</a>
                <% } else { %>
                    <a href="/page/<%=page.prev%>">
                        <span>较新的文章</span>
                        <i class="fa fa-angle-right"></i>
                    </a>
                <% } %>
            </div>
        <% } %>
    </div>
<% } %>
